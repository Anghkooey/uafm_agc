<!DOCTYPE NETSCAPE-Bookmark-file-1>
<!-- Made by https://github.com/Anghkooey/
     Project page https://github.com/Anghkooey/uafm_agc
     DO NOT EDIT! -->
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<TITLE>Bookmarks</TITLE>
<H1>Bookmarks</H1>

<DL><p>
    <DT><H3 ADD_DATE="1749746715" LAST_MODIFIED="1749746810" PERSONAL_TOOLBAR_FOLDER="true">uafm_agc</H3>
    <DL><p>
        <DT><A HREF="javascript: (() => { const parseGrade = s => parseFloat(s.replace(%22,%22, %22.%22)); const formatGrade = s => s.endsWith(%22,00%22) ? s.replace(%22,00%22, %22%22) : s.endsWith(%220%22) ? s.slice(0, -1) : s; const determineGradeColor = grade => { const value = parseGrade(grade); return value >= 4.8 ? %22darkgreen%22 : value >= 4.5 ? %22green%22 : value >= 4 ? %22#66cc66%22%20:%20value%20>=%203.5%20?%20%22orange%22%20:%20value%20>=%203%20?%20%22#FF8C00%22%20:%20%22red%22;%20};%20const%20createTableCell%20=%20(value,%20colorFlag%20=%20false)%20=>%20{%20const%20td%20=%20document.createElement(%22td%22);%20td.textContent%20=%20value;%20td.style.cssText%20=%20%22font-weight:bold;text-align:center;%22;%20if%20(colorFlag)%20td.style.setProperty(%22color%22,%20determineGradeColor(value),%20%22important%22);%20return%20td;%20};%20const%20createTableRow%20=%20(values,%20header%20=%20false)%20=>%20{%20const%20tr%20=%20document.createElement(%22tr%22);%20tr.classList.add(%22agc-stats%22);%20values.forEach((value,%20i)%20=>%20{%20if%20(header)%20{%20const%20th%20=%20document.createElement(%22th%22);%20th.textContent%20=%20value;%20th.style.background%20=%20%22#f0f0f0%22;%20tr.appendChild(th);%20}%20else%20{%20tr.appendChild(createTableCell(formatGrade(value),%20i%20>%200));%20}%20});%20return%20tr;%20};%20let%20hasRun%20=%20false;%20const%20extractGradeData%20=%20()%20=>%20{%20if%20(hasRun)%20return;%20hasRun%20=%20true;%20document.querySelectorAll(%22.card-body%20table%22).forEach(table%20=>%20{%20table.querySelectorAll(%22tr.agc-stats%22).forEach(row%20=>%20row.remove());%20const%20headerCells%20=%20table.querySelectorAll(%22thead%20th%22);%20const%20rows%20=%20table.querySelectorAll(%22tbody%20tr%22);%20let%20indexECTS%20=%20-1,%20indexGrade%20=%20-1;%20headerCells.forEach((cell,%20index)%20=>%20{%20const%20text%20=%20cell.textContent.trim();%20if%20(text%20===%20%22Punkty%20ECTS%22)%20indexECTS%20=%20index;%20if%20(text%20===%20%22Ocena%22)%20indexGrade%20=%20index;%20});%20if%20(indexECTS%20===%20-1%20||%20indexGrade%20===%20-1)%20return;%20const%20allGrades%20=%20[],%20gradesWithECTS%20=%20[];%20rows.forEach(row%20=>%20{%20const%20cells%20=%20row.querySelectorAll(%22td%22);%20if%20(cells.length%20<=%20Math.max(indexECTS,%20indexGrade))%20return;%20const%20grade%20=%20parseGrade(cells[indexGrade].textContent.trim().replace(%22,%22,%20%22.%22));%20const%20ects%20=%20cells[indexECTS].textContent.trim();%20if%20(!isNaN(grade))%20{%20allGrades.push(grade);%20if%20(ects)%20gradesWithECTS.push(grade);%20}%20});%20if%20(!allGrades.length)%20return;%20const%20calculateAverage%20=%20arr%20=>%20(arr.reduce((sum,%20value)%20=>%20sum%20+%20value,%200)%20/%20arr.length).toFixed(2).replace(%22.%22,%20%22,%22);%20const%20calculateMin%20=%20arr%20=>%20Math.min(...arr).toFixed(2).replace(%22.%22,%20%22,%22);%20const%20calculateMax%20=%20arr%20=>%20Math.max(...arr).toFixed(2).replace(%22.%22,%20%22,%22);%20const%20tbody%20=%20table.querySelector(%22tbody%22);%20tbody.appendChild(createTableRow([%22Statystyka%22,%20%22%C5%9Arednia%20ocena%22,%20%22Najni%C5%BCsza%20ocena%22,%20%22Najwy%C5%BCsza%20ocena%22],%20true));%20tbody.appendChild(createTableRow([%22ECTS%22,%20calculateAverage(gradesWithECTS),%20calculateMin(gradesWithECTS),%20calculateMax(gradesWithECTS)]));%20tbody.appendChild(createTableRow([%22Og%C3%B3%C5%82em%22,%20calculateAverage(allGrades),%20calculateMin(allGrades),%20calculateMax(allGrades)]));%20});%20};%20extractGradeData();%20})();%20void%200;" ADD_DATE="1749746779" LAST_MODIFIED="1749746779">D-AGC</A>
        <DT><A HREF="javascript: (() => { let includeUnscoredTasks = true; let lastWidth = %220px%22; const getGradeInfo = (percent) => { if (percent >= 90) return [%225%22, %22darkgreen%22]; if (percent >= 80) return [%224.5%22, %22green%22]; if (percent >= 70) return [%224%22, %22#66cc66%22];%20if%20(percent%20>=%2060)%20return%20[%223.5%22,%20%22#FF8C00%22];%20if%20(percent%20>=%2050)%20return%20[%223%22,%20%22orange%22];%20return%20[%222%22,%20%22red%22];%20};%20const%20updateTable%20=%20()%20=>%20{%20let%20totalPoints%20=%200;%20let%20maxPoints%20=%200;%20let%20totalPercentage%20=%200;%20let%20taskCount%20=%200;%20let%20hasUnscoredTasks%20=%20false;%20document.querySelectorAll(%22li.kraken3-task%22).forEach((el)%20=>%20{%20const%20type%20=%20el.querySelector(%22.taskType%22)?.textContent.trim();%20if%20(!type)%20return;%20if%20(type%20===%20%22Test%22)%20{%20const%20statusContainer%20=%20el.querySelector(%22.kraken3-task__status_path%22);%20if%20(!statusContainer)%20return;%20const%20attempts%20=%20Array.from(statusContainer.querySelectorAll(%22.kraken3_task__status_piece%22));%20if%20(attempts.length%20===%200)%20return;%20const%20lastAttempt%20=%20attempts.at(-1);%20const%20details%20=%20lastAttempt.querySelector(%22.listOfValues%22);%20if%20(!details)%20return;%20const%20passed%20=%20details.querySelector(%22p.typeIfPassed%22)?.textContent.includes(%22Zaliczony%22);%20if%20(!passed)%20{%20hasUnscoredTasks%20=%20true;%20if%20(!includeUnscoredTasks)%20return;%20}%20const%20maxPtsText%20=%20[...details.querySelectorAll(%22p.typeTitle%22)].find(p%20=>%20p.textContent.includes(%22Punkty%20do%20zdobycia%22)%20);%20const%20gotPtsText%20=%20[...details.querySelectorAll(%22p.typeTitle%22)].find(p%20=>%20p.textContent.includes(%22Uzyskano%20%C5%82%C4%85cznie%22)%20);%20const%20max%20=%20maxPtsText%20?%20parseInt(maxPtsText.textContent.match(/\d+/)?.[0])%20:%20null;%20const%20got%20=%20gotPtsText%20?%20parseInt(gotPtsText.textContent.match(/\d+/)?.[0])%20:%20null;%20if%20(max%20!==%20null%20&&%20got%20!==%20null)%20{%20if%20(got%20===%200)%20hasUnscoredTasks%20=%20true;%20if%20(!includeUnscoredTasks%20&&%20got%20===%200)%20return;%20totalPoints%20+=%20got;%20maxPoints%20+=%20max;%20totalPercentage%20+=%20Math.floor((got%20/%20max)%20*%20100);%20taskCount++;%20}%20return;%20}%20const%20m%20=%20el.querySelector(%22.kraken3-task__status_path%20.currentStatus%22)%20?.textContent.match(/(\d+)\s*\/\s*(\d+)\s*pts/);%20if%20(m)%20{%20const%20[earned,%20possible]%20=%20[+m[1],%20+m[2]];%20if%20(earned%20===%200)%20hasUnscoredTasks%20=%20true;%20if%20(!includeUnscoredTasks%20&&%20earned%20===%200)%20return;%20totalPoints%20+=%20earned;%20maxPoints%20+=%20possible;%20totalPercentage%20+=%20Math.floor((earned%20/%20possible)%20*%20100);%20taskCount++;%20}%20});%20const%20avg%20=%20totalPercentage%20&&%20taskCount%20?%20Math.round((totalPercentage%20/%20taskCount)%20*%20100)%20/%20100%20:%200;%20const%20[grade,%20color]%20=%20getGradeInfo(avg);%20const%20[altGrade,%20altColor]%20=%20getGradeInfo(avg%20+%205);%20const%20showAlt%20=%20grade%20!==%20altGrade;%20const%20gradeDisplay%20=%20showAlt%20?%20`<span%20style=%22color:${color};display:inline-block;width:45%;text-align:center%22>${grade}</span>%20<span%20style=%22color:gray;display:inline-block;width:10%;text-align:center%22>/</span>%20<span%20style=%22color:${altColor};display:inline-block;width:45%;text-align:center%22>${altGrade}</span>`%20:%20`<span%20style=%22color:${color};display:inline-block;width:100%;text-align:center%22>${grade}</span>`;%20let%20tbl%20=%20document.getElementById(%22zgm%22);%20if%20(!tbl)%20{%20tbl%20=%20document.createElement(%22table%22);%20tbl.id%20=%20%22zgm%22;%20const%20firstTask%20=%20document.querySelector(%22.kraken3-task%22);%20if%20(firstTask?.parentNode)%20{%20firstTask.parentNode.insertBefore(tbl,%20firstTask);%20}%20}%20tbl.style.cssText%20=%20%22margin:20px%20auto;border-collapse:collapse;font:18px%20'Roboto',sans-serif;white-space:nowrap;text-align:center%22;%20tbl.innerHTML%20=%20taskCount%20?%20`%20<thead>%20<tr%20style=%22background:#f1f1f1;color:gray%22>%20<th%20style=%22font-weight:bold%22>Stat</th>%20<th%20style=%22font-weight:bold%22>Uzyskano</th>%20<th%20style=%22font-weight:bold%22>Max</th>%20</tr>%20</thead>%20<tbody>%20<tr>%20<td%20style=%22font-weight:bold%22>Ocena</td>%20<td%20style=%22font-weight:bold%22>${gradeDisplay}</td>%20<td%20style=%22font-weight:bold;color:black%22>5</td>%20</tr>%20<tr>%20<td%20style=%22font-weight:bold%22>pts</td>%20<td%20style=%22font-weight:bold;color:${color}%22>${totalPoints}</td>%20<td%20style=%22font-weight:bold;color:black%22>${maxPoints}</td>%20</tr>%20<tr>%20<td%20style=%22font-weight:bold%22>%</td>%20<td%20style=%22font-weight:bold;color:${color}%22>${avg}%</td>%20<td%20style=%22font-weight:bold;color:black%22>100%</td>%20</tr>%20</tbody>`%20:%20%22%22;%20tbl.style.display%20=%20taskCount%20?%20%22table%22%20:%20%22none%22;%20if%20(taskCount)%20{%20tbl.style.width%20=%20%22auto%22;%20lastWidth%20=%20tbl.offsetWidth%20+%20%22px%22;%20tbl.style.width%20=%20lastWidth;%20}%20let%20toggle%20=%20document.getElementById(%22qop%22);%20if%20(hasUnscoredTasks)%20{%20if%20(!toggle)%20{%20toggle%20=%20document.createElement(%22table%22);%20toggle.id%20=%20%22qop%22;%20toggle.style.cssText%20=%20%22margin:-20px%20auto%2020px%20auto;border-collapse:collapse;font:18px%20'Roboto',sans-serif%22;%20toggle.innerHTML%20=%20`%20<tr>%20<td%20style=%22background:#f1f1f1;text-align:center;padding:10px;cursor:pointer;font-weight:bold;color:gray%22></td>%20</tr>`;%20toggle.querySelector(%22td%22).onclick%20=%20()%20=>%20{%20includeUnscoredTasks%20=%20!includeUnscoredTasks;%20updateTable();%20};%20tbl.parentNode.insertBefore(toggle,%20tbl.nextSibling);%20}%20toggle.querySelector(%22td%22).innerHTML%20=%20includeUnscoredTasks%20?%20%22Ignoruj%20nieocenione%20zadania%22%20:%20%22Uwzgl%C4%99dnij%20nieocenione%20zadania%22;%20toggle.style.display%20=%20%22table%22;%20toggle.style.width%20=%20lastWidth;%20}%20else%20if%20(toggle)%20{%20toggle.remove();%20}%20};%20updateTable();%20})();%20void%200;" ADD_DATE="1749746810" LAST_MODIFIED="1749746810">P-AGC</A>
    </DL><p>
</DL>
